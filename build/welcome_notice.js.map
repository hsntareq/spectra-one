{"version":3,"file":"welcome_notice.js","mappings":"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","sources":["webpack://spectra-one/./src/components/plugin-helpers.js","webpack://spectra-one/webpack/bootstrap","webpack://spectra-one/webpack/runtime/define property getters","webpack://spectra-one/webpack/runtime/hasOwnProperty shorthand","webpack://spectra-one/webpack/runtime/make namespace object","webpack://spectra-one/./src/admin/welcome-notice.js"],"sourcesContent":["export async function installPlugin( slug ) {\n\treturn new Promise( ( resolve ) => {\n\t\twp.updates.ajax( 'install-plugin', {\n\t\t\tslug,\n\t\t\tsuccess: () => {\n\t\t\t\tresolve( { success: true } );\n\t\t\t},\n\t\t\terror: ( err ) => {\n\t\t\t\tresolve( { success: false, code: err.errorCode } );\n\t\t\t},\n\t\t} );\n\t} );\n}\n\nexport async function activatePluginUrl( url ) {\n\ttry {\n\t\tconst reqResponse = await fetch( url );\n\n\t\tif ( 200 === reqResponse.status ) {\n\t\t\treturn { success: true };\n\t\t}\n\t} catch ( err ) {\n\t\treturn { success: false };\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n\tactivatePluginUrl,\n\tinstallPlugin,\n} from '../components/plugin-helpers.js';\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\thandleWelcomeNotice();\n} );\n\nfunction handleWelcomeNotice() {\n\tconst {\n\t\tactivating,\n\t\tinstalling,\n\t\tdone,\n\t\tactivationUrl,\n\t\tajaxUrl,\n\t\tpluginSlug,\n\t\tnonce,\n\t\tpluginStatus,\n\t} = spectraOne;\n\n\tlet installStatusText;\n\tconst CloseButton = document.querySelector(\n\t\t'.swt-welcome-notice .notice-dismiss'\n\t);\n\tconst WelcomeNoticeContainer = document.querySelector(\n\t\t'.swt-welcome-notice'\n\t);\n\tconst InstallButton = document.querySelector(\n\t\t'.swt-welcome-notice #swt-install-spectra'\n\t);\n\tif ( InstallButton ) {\n\t\tinstallStatusText = InstallButton.querySelector( '.text' );\n\t}\n\n\tconst hideAndRemoveNotice = () => {\n\t\tif ( WelcomeNoticeContainer ) {\n\t\t\tWelcomeNoticeContainer.remove();\n\t\t}\n\t};\n\n\tconst activateSpectra = async () => {\n\t\tinstallStatusText.textContent = activating;\n\t\tawait activatePluginUrl( activationUrl );\n\n\t\tInstallButton.classList.remove( 'updating-message' );\n\t\tInstallButton.classList.add( 'updated-message' );\n\n\t\tinstallStatusText.textContent = done;\n\t\tsetTimeout( hideAndRemoveNotice, 2000 );\n\t};\n\n\tif ( InstallButton ) {\n\t\tInstallButton.addEventListener( 'click', async () => {\n\t\t\tInstallButton.classList.add( 'updating-message' );\n\t\t\tInstallButton.classList.add( 'disabled' );\n\n\t\t\tif ( pluginStatus === 'installed' ) {\n\t\t\t\tawait activateSpectra();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinstallStatusText.textContent = installing;\n\t\t\tawait installPlugin( pluginSlug );\n\t\t\tawait activateSpectra();\n\t\t} );\n\t}\n\n\tCloseButton.addEventListener( 'click', async () => {\n\t\tconst res = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type':\n\t\t\t\t\t'application/x-www-form-urlencoded; charset=UTF-8',\n\t\t\t},\n\t\t\tbody: `action=swt_dismiss_welcome_notice&nonce=${ nonce }`,\n\t\t};\n\n\t\ttry {\n\t\t\tconst reqResponse = await fetch( ajaxUrl, res );\n\n\t\t\tif ( 200 === reqResponse.status ) {\n\t\t\t\thideAndRemoveNotice();\n\t\t\t}\n\t\t} catch ( err ) {}\n\t} );\n}\n"],"names":["installPlugin","slug","Promise","resolve","wp","updates","ajax","success","error","err","code","errorCode","activatePluginUrl","url","reqResponse","fetch","status","document","addEventListener","handleWelcomeNotice","activating","installing","done","activationUrl","ajaxUrl","pluginSlug","nonce","pluginStatus","spectraOne","installStatusText","CloseButton","querySelector","WelcomeNoticeContainer","InstallButton","hideAndRemoveNotice","remove","activateSpectra","textContent","classList","add","setTimeout","res","method","headers","body"],"sourceRoot":""}