!function(){"use strict";var e=window.wp.element,t=window.wp.plugins,i=window.wp.editPost,s=window.wp.compose,a=window.wp.data,n=window.wp.i18n,l={logo:(0,e.createElement)("svg",{className:"swt-page-settings-button",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 70 70",fill:"none"}," ",(0,e.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 70C54.33 70 70 54.33 70 35C70 15.67 54.33 0 35 0C15.67 0 0 15.67 0 35C0 54.33 15.67 70 35 70ZM24.4471 23.5112C18.9722 26.7403 20.2852 35.3759 26.5032 37.0351L36.8875 39.806C37.7533 40.037 37.91 41.224 37.135 41.6811L27.0972 47.5799L26.036 58L45.5529 46.4888C51.0278 43.2597 49.7148 34.6241 43.4968 32.9649L33.1125 30.1941C32.2467 29.963 32.09 28.776 32.865 28.3189L42.9028 22.4202L43.964 12L24.4471 23.5112Z"})," "),logo_color:(0,e.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20ZM9.03846 8.46701C8.79806 8.38592 8.77492 8.05233 9.00178 7.93831L10.8523 7.00758C12.2027 6.32834 13.0549 4.9458 13.0549 3.43412V3.33426L7.37132 6.19376C5.55639 7.10592 5.74153 9.77466 7.66472 10.4233L10.9603 11.5349C11.2007 11.6159 11.2238 11.9495 10.997 12.0635L9.14649 12.9943C7.79602 13.6735 6.94382 15.0561 6.94382 16.5677V16.6676L12.6274 13.8081C14.4424 12.8959 14.2572 10.2272 12.334 9.57854L9.03846 8.46701Z",fill:"#6004FF"}))};function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r.apply(this,arguments)}var o=window.wp.components,c=window.wp.blockEditor,d=window.wp.hooks;const u=t=>{let i,s;return t.hasOwnProperty("setAttributes")?(i=!(!t?.attributes?.SWTStickyHeader||!t.attributes.SWTStickyHeader),s=!(!t?.attributes?.SWTTransparentHeader||!t.attributes.SWTTransparentHeader)):(i=!(!t?.meta.swt_meta_sticky_header||!t.meta.swt_meta_sticky_header),s=!(!t?.meta.swt_meta_transparent_header||!t.meta.swt_meta_transparent_header)),(0,e.createElement)(e.Fragment,null,!s&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)(o.ToggleControl,{label:(0,n.__)("Enable Sticky Header","spectra-one"),help:i?(0,n.__)("Transparent header option will be disabled on enabling this option.","spectra-one"):"",checked:i,onChange:e=>{t.hasOwnProperty("setAttributes")?t.setAttributes({SWTStickyHeader:!i}):t.setMetaFieldValue(e,"swt_meta_sticky_header")}})),!i&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)(o.ToggleControl,{label:(0,n.__)("Enable Transparent Header","spectra-one"),help:s?(0,n.__)("Sticky header option will be disabled on enabling this option.","spectra-one"):"",checked:s,onChange:e=>{t.hasOwnProperty("setAttributes")?t.setAttributes({SWTTransparentHeader:!s}):t.setMetaFieldValue(e,"swt_meta_transparent_header")}})))},p=(0,s.createHigherOrderComponent)((t=>i=>{const{attributes:s,name:a}=i;return s?.tagName&&"header"===s.tagName&&"core/template-part"===a?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,i),(0,e.createElement)(c.InspectorControls,null,(0,e.createElement)(o.Panel,null,(0,e.createElement)(o.PanelBody,{title:"Header Settings",initialOpen:!0},(0,e.createElement)(u,i))))):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,i))}),"Header");(0,d.addFilter)("editor.BlockEdit","swt/header",p),(0,d.addFilter)("blocks.registerBlockType","swt/header-attributes",(function(e){return["core/template-part"].includes(e.name)&&e.attributes&&(e.attributes=Object.assign(e.attributes,{SWTStickyHeader:{type:"boolean",default:!1},SWTTransparentHeader:{type:"boolean",default:!1}})),e}));var m=window.React,w=()=>{const{activationUrl:t,pluginSlug:i,pluginStatus:s}=spectraOne;let a=[];"activated"!==s&&"installed"===s&&(a={initialText:"Install & Activate Spectra",progressText:"Activating Spectra...",errorText:"Error activating Spectra",SuccessText:"Spectra Activated"}),"installed"!==s&&"activated"!==s&&(a={initialText:"Install & Activate Spectra",progressText:"Installing Spectra...",errorText:"Error installing Spectra",SuccessText:"Spectra Installed"});const{initialText:r,progressText:c,errorText:d,SuccessText:u}=a,[p,w]=(0,m.useState)(!1),[b,g]=(0,m.useState)(r),[h,v]=(0,m.useState)(!1),_=async e=>{!0===(await async function(e){try{if(200===(await fetch(e)).status)return{success:!0}}catch(e){return{success:!1}}}(e)).success?(w(!1),g(u),location.reload()):(g(d),w(!1),setTimeout((()=>{g(u),w(!1),v(!1)}),2e3))};return(0,e.createElement)(o.PanelBody,{title:(0,n.__)("Spectra plugin","spectra-one"),initialOpen:!0,icon:l.color},(0,e.createElement)("p",null,(0,n.__)("Power-up your website with advanced and powerful blocks that help you build websites in no time!","spectra-one")),(0,e.createElement)(o.Button,{className:`ast-custom-button-with-padding ${!0===p?"is-busy ":""} `,onClick:()=>(async(e,t)=>{if(!1===h)if(g(c),w(!0),v(!0),"activated"!==s&&"installed"===s)_(t);else try{await async function(e){return new Promise((t=>{wp.updates.ajax("install-plugin",{slug:e,success:()=>{t({success:!0})},error:e=>{t({success:!1,code:e.errorCode})}})}))}(e),_(t)}catch(e){"folder_exists"===e.errorCode&&_(t)}})(i,t),isPrimary:!0,"aria-disabled":h},(0,n.__)(b,"spectra-one")))};const b=t=>{const i=Object.entries(spectraOne.disable_sections).map((i=>{let[s,a]=i;const n=!(!t?.meta[a.key]||!t.meta[a.key]);return(0,e.createElement)(o.PanelRow,null,(0,e.createElement)(o.ToggleControl,{key:s,label:a.label,checked:n,onChange:e=>{t.setMetaFieldValue(e,a.key)}}))}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.PanelBody,{title:(0,n.__)("Disable Elements","spectra-one"),initialOpen:!0,className:"swt-disable-elements-panel"},i),!t?.meta?.swt_meta_header_display&&(0,e.createElement)(o.PanelBody,{title:(0,n.__)("Header Settings","spectra-one"),initialOpen:!0,className:"swt-header-settings-panel"},(0,e.createElement)(u,r({},t,spectraOne.header_settings))),"activated"!==spectraOne.pluginStatus&&(0,e.createElement)(w,t))};var g=(0,s.compose)((0,a.withSelect)((e=>{const t=e("core/editor").getEditedPostAttribute("meta"),i=e("core/editor").getCurrentPostAttribute("meta");return{meta:{...i,...t},oldMeta:i}})),(0,a.withDispatch)((e=>({setMetaFieldValue:(t,i)=>e("core/editor").editPost({meta:{[i]:t}})}))))((t=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.PluginSidebarMoreMenuItem,{target:"swt-page-settings-panel",icon:l.logo},(0,n.__)("Spectra Page Settings","spectra-one")),(0,e.createElement)(i.PluginSidebar,{isPinnable:!0,icon:l.logo,name:"swt-page-settings-panel",title:(0,n.__)("Spectra Page Settings","spectra-one"),className:"swt-sidebar"},(0,e.createElement)(b,t)))));window.addEventListener("load",(function(){(0,a.subscribe)((function(){setTimeout((function(){const e=document.querySelector(".editor-styles-wrapper");null!==e&&(parseInt(e.offsetWidth)<1350?(e.classList.remove("swt-stacked-title-visibility"),e.classList.add("swt-stacked-title-visibility")):e.classList.remove("swt-stacked-title-visibility"));const t=document.querySelector(".title-visibility"),i=document.querySelector(".edit-post-visual-editor__post-title-wrapper");if(null===t&&null!==i){let e="";!1===(0,a.select)("core/editor").getEditedPostAttribute("meta").swt_meta_site_title_display?(e='<span class="dashicons dashicons-hidden title-visibility" data-tooltip="Enable Title"></span>',i.classList.toggle("invisible")):e='<span class="dashicons dashicons-visibility title-visibility" data-tooltip="Disable Title"></span>',i.insertAdjacentHTML("beforeend",e),document.querySelector(".title-visibility").addEventListener("click",(function(){i.classList.toggle("invisible"),this.classList.contains("dashicons-hidden")?(this.classList.add("dashicons-visibility"),this.classList.remove("dashicons-hidden"),this.dataset.tooltip="Disable Title",(0,a.dispatch)("core/editor").editPost({meta:{swt_meta_site_title_display:!0}})):(this.classList.add("dashicons-hidden"),this.classList.remove("dashicons-visibility"),this.dataset.tooltip="Enable Title",(0,a.dispatch)("core/editor").editPost({meta:{swt_meta_site_title_display:!1}}))}))}const s=document.querySelector(".editor-post-title__input"),n=document.querySelector(".title-visibility");null!==s&&null!==n&&(document.addEventListener("click",(function(e){i.contains(e.target)||(n.classList.remove("swt-show-visibility-icon"),s.classList.remove("swt-show-editor-title-outline"))})),document.addEventListener("visibilitychange",(function(){n.classList.remove("swt-show-visibility-icon"),s.classList.remove("swt-show-editor-title-outline")})),i.addEventListener("focusout",(function(){n.classList.remove("swt-show-visibility-icon"),s.classList.remove("swt-show-editor-title-outline")})),i.addEventListener("click",(function(){n.classList.add("swt-show-visibility-icon"),s.classList.add("swt-show-editor-title-outline")})),s.addEventListener("input",(function(){n.classList.add("swt-show-visibility-icon"),this.classList.add("swt-show-editor-title-outline")}))),document.querySelectorAll(".is-tablet-preview, .is-mobile-preview").length?document.body.classList.add("responsive-enabled"):document.body.classList.remove("responsive-enabled")}),1)}))}));const h=["core/archives","core/calendar","core/latest-comments","core/tag-cloud","core/rss"],v=(0,s.createHigherOrderComponent)((t=>i=>{const{attributes:s,name:a,setAttributes:l}=i,{SWTHideDesktop:r,SWTHideTab:d,SWTHideMob:u}=s;return a&&(a.includes("uagb/")||h.includes(a))?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,i)):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,i),(0,e.createElement)(c.InspectorControls,null,(0,e.createElement)(o.Panel,null,(0,e.createElement)(o.PanelBody,{title:"Responsive Settings",initialOpen:!0},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)(o.ToggleControl,{label:(0,n.__)("Hide Desktop","spectra-one"),checked:r,onChange:()=>l({SWTHideDesktop:!r})})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)(o.ToggleControl,{label:(0,n.__)("Hide Tablet","spectra-one"),checked:d,onChange:()=>l({SWTHideTab:!d})})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)(o.ToggleControl,{label:(0,n.__)("Hide Mobile","spectra-one"),checked:u,onChange:()=>l({SWTHideMob:!u})}))))))}),"Responsive");(0,d.addFilter)("editor.BlockEdit","swt/responsive",v),(0,d.addFilter)("blocks.registerBlockType","swt/responsive-attributes",(function(e){return h.includes(e.name)||e.attributes&&(e.attributes=Object.assign(e.attributes,{SWTHideDesktop:{type:"boolean",default:!1},SWTHideTab:{type:"boolean",default:!1},SWTHideMob:{type:"boolean",default:!1}})),e})),spectraOne.is_spectra_plugin&&(0,d.addFilter)("spectra.page-sidebar.before","swt/setting-list",(function(t,i){return(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(b,i))}),10),spectraOne.is_spectra_plugin||(0,t.registerPlugin)("swt-page-level-settings",{render:g})}();